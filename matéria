\\usuario: laboratorio@grad
\\senha: unaerp

CREATE TABLESPACE "TBLS5W_768377"
DATAFILE 'C:\APP\ORACLE\ORADATA\GRAD\DATAFILE\TBLS5W_768377.DBF'
SIZE 10M
;

\\ SELECT TABLESPACE_NAME FROM DBA_TABLESPACE lista o nome dos tablespaces de um BD

\\ DESCRIBE ou DESC mostra a estrutura de uma tabela
\\ SELECT selecionar/mostrar registros

\\ Alterar o tamanho de um tablespace
\\1. redimensionando o datafile
ALTER DATABASE
DATAFILE 'caminho\nome do datafile.dbf'
RESIZE novo_tamanho;

\\2. Adicionando um novo datafile
ALTER TABLESPACE " "nome do tablespace"
ADD DATAFILE 'caminho/nome do novo datafile.dbf'
SIZE tamanho;

\\Exemplo:
\\adicionando um novo datafile
ALTER TABLESPACE 'TBLS5W_768377"
ADD DATAFILE

\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
\\17/08/2023

CREATE USER "US_768377"
IDENTIFIED BY "768377"
DEFAULT TABLESPACE "TBLS5W_768377"
TEMPORARY TABLESPACE "TEMP"
PROFILE DEFAULT
ACCOUNT UNLOCK;

\\atribuir os direitos de criação
GRANT CREATE SESSION, SELECT ANY TABLE TO "US_768377";
\\\\\
CREATE USER TESTE768377
IDENTIFIED BY "123456"
DEFAULT TABLESPACE "TBLS5W_768377"
TEMPORARY TABLESPACE "TEMP"
PROFILE DEFAULT
ACCOUNT UNLOCK;

\\\AULA DO DIA 31/08/2023

CREATE TABLE DISCIPLINA
(
COD_DISCIPLINA NUMBER(6),
NOM_DISCIPLINA VARCHAR2(30) NOT NULL,
CH_DISCIPLINA NUMBER(3),
CONSTRAINT PK_DISCIPLINA PRIMARY KEY (COD_DISCIPLINA)
);

CREATE TABLE ALUNO_DISCIPLINA
(
COD_DISCIPLINA NUMBER(6),
ID_ALUNO NUMBER(6),
SEM_ANO_ALU_DISC NUMBER(5),
CONSTRAINT PK_ALUNO_DISCIPLINA PRIMARY KEY (COD_DISCIPLINA, ID_ALUNO, SEM_ANO_ALU_DISC),
CONSTRAINT FK_ALUNO_DISC_ALUNO FOREIGN KEY (ID_ALUNO) REFERENCES ALUNO,
CONSTRAINT FK_ALUNO_DISC_DISC FOREIGN KEY (COD_DISCIPLINA) REFERENCES DISCIPLINA
);

\\\EXERCICIO 31/08/2023

CREATE TABLE CONDOMINIO
(
CNPJ_CONDOMINIO NUMBER(04)
NOM_CONDOMINIO VARCHAR2(40) NOT NULL
END_CONDOMINIO VARCHAR2(40)
BAI_CONDOMINIO VARCHAR2(25)
CID_CONDOMINIO VARCHAR2(35)
UF_CONDOMINIO CHAR(2)
CEP_CONDOMINIO NUMBER(8)
CONSTRAINT PK_CONDOMINIO PRIMARY KEY (CNPJ_CONDOMINIO)
);

CREATE TABLE UNIDADE
(
CNPJ_CONDOMINIO NUMBER(04)
NUM_UNIDADE NUMBER(3)
PROP_UNIDADE VARCHAR2(40) NOT NULL
CPF_PROP_UNIDADE NUMBER(11)
CONSTRAINT PK_UNIDADE PRIMARY KEY (CNPJ_CONDOMINIO, NUM_UNIDADE)
CONSTRAINT FK_UNIDADE_CONDOMINIO FOREIGN KEY (CNPJ_CONDOMINIO) REFERENCES CONDOMINIO
);

CREATE TABLE TAXA
(
NUM_TAXA NUMBER(4)
DVT_TAXA DATE
VLR_TAXA NUMBER(8,2)
CNPJ_CONDOMINIO NUMBER (04)
NUM_UNIDADE NUMBER (3)
CONSTRAINT PK_TAXA PRIMARY KEY (NUM_TAXA)
CONSTRAINT FK_TAXA_CONDOMINIO FOREIGN KEY (CNPJ_CONDOMINIO) REFERENCES CONDOMINIO
CONSTRAINT FK_TAXA_UNIDADE FOREIGN KEY (NUM_UNIDADE) REFERENCES UNIDADE
);

CREATE TABLE CONTATO_UNIDADE
(
DDD_CONTATO_UNIDADE NUMBER(2)
NUM_CONTATO_UNIDADE VARCHAR2(10)
CNPJ_CONDOMINIO NUMBER(14)
NUM_UNIDADE NUMBER(3)
CONSTRAINT PK_CONTATO_UNIDADE PRIMARY KEY (DDD_CONTATO_UNIDADE, NUM_CONTATO_UNIDADE)
CONSTRAINT FK_CONTATO_UNIDADE_CONDOMINIO FOREIGN KEY (CNPJ_CONDOMINIO) REFERENCES CONDOMINIO
CONSTRAINT FK_CONTATO_UNIDADE_UNIDADE FOREIGN KEY (NUM_UNIDADE) REFERENCES UNIDADE
);

\\\Aula dia 14/09/2023

Alteração de tabelas
ALTER TABLE - comandoutilizado para alterar a estrutura de tabelas, permitindo realizar mudanças nos atributos e nas constraints
ADD - adicionar atributos ou constraints
MODIFY - modificar atributos (tipos do atributo e/ou tamanho do espaço de armazenamento do atributo)
-DROP - excluir atributos ou constraints

Sintaxe:
ALTER TABLE "nome da tabela"
[operação: ADD | MODIFY | DROP] parâmetros de cada operação

Exemplo:
1 - Adicionar dois novos atributos na tabela ALUNO: RG_ALUNO VARCHAR2(11) E EML_ALUNO VARCHAR2(40)
ALTER TABLE "ALUNO"
ADD (RG_ALUNO VARCHAR 2 (11), EM_ALUNO VARCHAR2(4));

2 - Ajustar o tamanho do atributo EML_ALUNO (VARCHAR2(40)
ALTER TABLE "ALUNO"
MODIFY EML_ALUNO VARCHAR2(40);

3 - Adicionar uma constraint a tabela curso - chave primária atributo cod_curso
CREATE TABLE CURSO
(cod_curso NUMBER(3),
nom_curso VARCHAR2(30),
tmp_curso NUMBER(1)
);

ALTER TABLE CURSO
ADD CONSTRAINT PK_CURSO PRIMARY KEY (COD_CURSO);

4 - Modificar o atributo nom_curso para que ele seja obrigatório
ALTER TABLE "CURSO"
MODIFY nom_curso VARCHAR2(30) NOT NULL:

5 Excluir o atributo tmp_curso da tabela CURSO
ALTER TABLE "CURSO"
DROP COLUMN tmp_curso;

6 - Adicionar a data de inicio do curso (dti_curso data)
ALTER TABLE "CURSO"
ADD DTI_CURSO DATE;

7 - Excluir a chave primária da tabela CURSO
ALTER TABLE "CURSO"
DROP CONSTRAINT PK_CURSO;









